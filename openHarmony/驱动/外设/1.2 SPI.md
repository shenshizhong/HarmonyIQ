
SPI （Serial Peripheral Interface）串行外设接口
```
同步通信串行接口
用途：嵌入式系统中连接微控制器 与 外围设备（传感器、存储器、显示屏等）

1、配置设备信息
在HDF的配置文件（device_info.hcs) 定义SPI 控制器参数：
spi_host :: host{
    hostName =  "spi_host0";
    device_spi :: device{
        policy = 1; //驱动服务发布策略
        priority = 50;
        moduleName = "HDF_SPI"; //驱动模块名
        serviceName = "SPI_SERVICE"; //服务名
        deviceMatchAttr = "spi_config"; //匹配属性
    }
}

2、实现驱动接口
通过HDF的SPi操作 API (如 SpiCntlr 结构体)  编写读写逻辑：
#include "hdf_spi.h"
//SPI 数据传输示例
int32_t SpiTransfer(struct SpiCntlr *cntlr, struct SpiMs *msg){
    if(cntlr == NULL || msg == NULL){
        return HDF_ERR_INVALID_PARAM;
    }
    return cntlr->method->transfer(cntlr, msg);
}

3、用户态调用

DevHandle spiHandle;
struct SpiMsg msg = {0};
unit8_t txBuf[4] ={0xAA, 0xBB, 0xCC, 0xDD};
unit8_t rxBuf[4] = {0};

spiHandle = SpiOpen(0); //打开SPI控制器0
msg.txBuf = txBuf;
msg.rxBuf = rxBuf;
msg.len = 4;

SpiTransfer(spiHandle, &msg); //传输数据
SpiClose(spiHandle);

性能优化：使用DMA减少CPU占用。（Direct Memory Access）直接内存访问

```
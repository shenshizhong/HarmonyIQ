
南向开发的工作内容
```
主要面向内核，驱动

用c/c++ 控制硬件
驱动移植，从一个平台移动到另外一个平台
驱动：
1、驱动是内核的扩展模块，专门用于管理和控制特定硬件设备（显卡，网卡，键盘）
2、直接操作硬件寄存器 或设备内存。
3、将硬件功能翻译为内核能理解的抽象接口
4、驱动是硬件相关的，每个设别需要特定的驱动

驱动和内核关系：
1、驱动需要调用内核提供的接口（内存分配，中断处理），来运行
2、没有驱动，内核无法直接操作硬件，导致设备无法使用

内核是"大脑"， 负责协调全局，驱动是"手，脚"，负责执行具体硬件操作
没有驱动，内核无法使用硬件，没有内核，驱动无法融入系统框架



宏观步骤：
1、熟悉目标硬件架构 和 内核版本
2、获取原始驱动 和目标内核的源代码
3、编译

移植步骤：ABCD
A：
1、检查内核api变更
2、比较 /include/linux 目录下头文件差异
常见变化：
1、内存分配函数（kmalloc vmalloc）
2、文件操作结构（file_operations）
3、设备模型接口
4、中断处理api  （突然有电话打入）
5、锁机制变化

B: 驱动框架适配，会有不同内核版本

C: 硬件相关代码修改：
   寄存器地址和映射方式
   中断号和处理方式
   DMA操作
   内存对齐要求
   字节序问题
   
D：编译系统修改  
   更新Makefile 和 Kconfig
   






```
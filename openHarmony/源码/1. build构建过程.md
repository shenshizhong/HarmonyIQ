
gn 以及 子系统 部件 组件的构建

hello
```
1、
编写号子系统，直接编译的话，也就7分钟。
2、
加快的话，使用下面的命令，提前检测代码编码有没有问题。
./build.sh --product-name rk3568 --build-target mysample --ccache

```


partA
```
feature1 通过 ohos_shared_library 分享自己，把自己做成动态库
feature2 要依赖feature1 的动态库。
feature3 主要用来存放一些变量


改动部分：
在partA 的bundle.json 中 将  "components": ["partB"],  "parB" 先清空，如：  "components": []
在feature2 里面的BUILD.gn 中先注释了  # external_deps = [ "partB:module_lib" ] 

需要配置的两个文件：
1、
在vendor/hihop/rk3568/config.json :

   {
      "subsystem": "mysample",
      "components": [
        {
          "component": "hello",
          "features": []
        }
        ,
        {
          "component": "partA",
          "features": []
        }
        
      ]
    }


2、
build/subsystem_config.json :

  "mysample": {
    "path": "mysample",
    "name": "mysample"
  }


./build.sh --product-name rk3568 --ccache

刷机之后，通过Mobaxterm 查看。
需要用到的命令：
helloworld
myhello


查看编写内容，在系统中的存放位置：
1、查看两个执行命令的存放位置：
cd /system/bin    //查看上面两个可执行命令 helloworld 和 myhello 的存放位置
ls -l

2、查看动态链接库生成的位置：
cd /system/lib
ls         //查看libhelloworld_lib.z.so     这个是feature1 中，生成的动态链接库

3、查看写入的常量：
cd /system/etc //查看参数
cd init
find . -name "config.conf"
cat config.conf

```

partB
```
一、跨部件间的调用
先将bundle.json 中的     "third_party": ["mythird"] mythird 清掉
将partB/BUILD.gn  中的    "mythird_use:mythird_use"  "dll_use/dll:dll", "dll_use:dll_use",先去掉

然后partA中要添加：
 1、feature2 中的helloworld2.cpp 中 要对partB 的module 进行使用：
    #include "module.h"
    module();
     
 1、partA的bundle.json 中 将 "parB" 加上，如： "components": ["parB"],
 2、在feature2 里面的BUILD.gn 中增加   external_deps = [ "partB:module_lib" ] 
 
 
在vendor/hihop/rk3568/config.json 中添加partB :

   {
      "subsystem": "mysample",
      "components": [
        。。。
        {
          "component": "partB",
          "features": []
        }
        
      ]
    }


二、so文件
将partB/BUILD.gn  中的    "mythird_use:mythird_use"  "dll_use/dll:dll", "dll_use:dll_use" 加上


烧录完，执行以下命令即可验证：
dll_use
mythird_use



```










搞到3点，把这部分gn这块的内容，敲完。做好记录。


3点半继续看loa
der部分。
2个半小时，看完3视频， 已经是6点了。
然后吃个饭7点来钟，继续再看2个，正好把昨天的补完。
9点去健身，然后晚上拍胸的视屏，或者悬挂顶跨的视频。







编码下一个部件间的交互



